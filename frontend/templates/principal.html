<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <title>Inicio</title>
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?display=swap&family=Inter:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="stylesheet" href="../static/css/principal.css" />
  <link rel="stylesheet" href="../static/css/sidebar.css" />
  <script defer src="/static/js/principal.js"></script>
</head>

<body class="bg-fondo-principal">
  <div class="relative flex size-full min-h-screen flex-row group/design-root overflow-x-hidden"
    style='font-family: Inter, "Noto Sans", sans-serif;'>
    <aside
      class="flex flex-col items-center justify-between bg-white w-24 py-8 border-r border-gray-200 shadow-lg z-10">
      <div class="flex flex-col items-center gap-10">
        <a class="flex items-center" href="/">
          <img alt="Meraki logo" class="h-12 w-12" src="../static/img/UI/logo.png" />
        </a>
        <nav class="flex flex-col items-center gap-6">

          <a class="p-3 rounded-xl text-color-texto-oscuro hover:bg-fondo-principal" href="/about"
            title="Sobre nosotros">
            <span class="material-symbols-outlined">info</span>
          </a>
          <a class="p-3 rounded-xl text-color-texto-oscuro hover:bg-fondo-principal" href="/contacto" title="Contacto">
            <span class="material-symbols-outlined">mail</span>
          </a>
        </nav>
      </div>
      <div class="flex flex-col items-center gap-6">
        <a class="relative flex items-center justify-center size-12 rounded-full hover:bg-fondo-principal text-color-texto-oscuro hover:text-color-principal transition-colors"
          href="/carrito" title="Carrito">
          <span class="material-symbols-outlined">shopping_cart</span>
        </a>

        <a class="flex items-center justify-center size-12 rounded-full hover:bg-fondo-principal" href="/mi-cuenta"
          title="Cuenta">
          <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAwfRFOpx_t1-W39jlOWpZ1-UZ6s-7XBj-k4EMTdvOY0LG4iqDMKZlSZn8JZePtXY1_p1Dlv6J80glF3mHz3JEZQQ_aHHBdZXZ23OIW4XDLGfhuIgVgGhGomvfUMdP0lI1dyjW06b0DxQ34sLbO-vszky2imha1FA3US8t5_cOss_97Gl6QzQUs1-FEnLBBGAcj8eWKscod5vbkfV4QTjTTtrGUCa0rkA8OBMzEtQVYGD_DSRYRuFYclxUuraA2Wx-QN2mjWaEwN65g");'>
          </div>
        </a>
      </div>
    </aside>
    <main class="flex-1 flex flex-col">
      <header class="flex items-center justify-between whitespace-nowrap px-12 py-6 bg-fondo-principal">
        <div class="flex-1">
          <h1 class="text-3xl font-bold text-color-principal">Meraki</h1>
          <p class="text-color-texto-oscuro">Joyas con alma</p>
        </div>
        <div class="flex-1 flex justify-center">
          <div class="w-full max-w-lg relative">
            <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">search</span>
            <input id="search-input"
              class="form-input w-full rounded-full border-2 border-color-borde-input bg-white pl-12 pr-4 py-3 text-base focus:border-color-principal focus:ring-color-principal placeholder:text-gray-400"
              placeholder="Buscar collares, anillos..." value="" />
          </div>
        </div>
        <div class="flex-1"></div>
      </header>
      <div class="flex-1 flex px-12 pb-12 gap-8">
        <aside class="w-64 py-6">
          <div class="space-y-8">
            <div>
              <h3 class="text-lg font-semibold text-color-secundario mb-4">Categorías</h3>
              <div class="space-y-2" id="categorias-filtro">
                <!-- Las categorías se cargarán dinámicamente -->
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-color-secundario mb-4">Precio</h3>
              <input id="precio-range" type="range" min="3000" max="75000" value="75000"
                class="w-full accent-color-principal precio-range" />
              <div class="flex justify-between text-sm text-color-texto-oscuro mt-1">
                <span id="precio-min">$3000</span>
                <span id="precio-max">$75.000</span>
              </div>
              <div class="flex space-x-2 mt-2">
                <input type="number" id="precio-min-input" placeholder="Mín"
                  class="w-1/2 border border-color-borde-input rounded px-2 py-1 text-sm">
                <input type="number" id="precio-max-input" placeholder="Máx"
                  class="w-1/2 border border-color-borde-input rounded px-2 py-1 text-sm">
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-color-secundario mb-4">Popularidad</h3>
              <select id="filtro-popularidad"
                class="form-select w-full rounded-md border-gray-300 focus:border-color-principal focus:ring-color-principal text-color-texto-oscuro">
                <option value="todos">Todos</option>
                <option value="novedades">Novedades</option>
                <option value="populares">Más populares</option>
              </select>
            </div>
            <div>
              <button id="limpiar-filtros"
                class="w-full bg-gray-200 text-color-texto-oscuro py-2 rounded hover:bg-gray-300 transition-colors">
                Limpiar Filtros
              </button>
            </div>
          </div>
        </aside>
        <section class="flex-1">
          <div class="flex justify-between items-center mb-6">
            <p id="contador-productos" class="text-color-texto-oscuro">Cargando productos...</p>
            <div class="flex items-center space-x-2">
              <span class="text-sm text-color-texto-oscuro">Ordenar por:</span>
              <select id="ordenar-por"
                class="form-select rounded-md border-gray-300 focus:border-color-principal focus:ring-color-principal text-color-texto-oscuro text-sm">
                <option value="relevancia">Relevancia</option>
                <option value="novedades">Novedades</option>
                <option value="precio-asc">Precio: Menor a Mayor</option>
                <option value="precio-desc">Precio: Mayor a Menor</option>
              </select>
            </div>
          </div>
          <div id="productos-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Los productos se cargarán aquí dinámicamente -->
            <div class="text-center py-8 col-span-full">
              <p class="text-color-texto-oscuro">Cargando productos...</p>
            </div>
          </div>
          <!-- CONTENEDOR DE PAGINACIÓN -->
          <div id="paginacion-container" class="mt-8 flex justify-center items-center space-x-4">
            <!-- La paginación se generará dinámicamente aquí -->
          </div>
        </section>
      </div>
    </main>
  </div>
  <template id="template-producto-card">
    <div
      class="group relative flex flex-col overflow-hidden rounded-xl shadow-md hover:shadow-2xl transition-shadow duration-300 bg-white border border-color-borde-input/50">
      <div class="aspect-square w-full overflow-hidden">
        <img alt=""
          class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300 imagen-producto"
          src="" onerror="this.src='/static/img/placeholder.jpg'" />
      </div>
      <div class="p-4 flex flex-col flex-grow">
        <a href="" class="enlace-producto">
          <h3 class="text-base font-semibold text-color-texto-oscuro nombre-producto"></h3>
          <p class="text-sm text-gray-500 categoria-producto"></p>
        </a>
        <div class="flex items-center justify-between mt-4">
          <p class="text-xl font-bold text-color-secundario precio-producto"></p>
          <div class="flex items-center gap-2">
            <button
              class="p-2.5 rounded-full bg-color-principal text-color-blanco hover:bg-color-principal-oscuro transition-colors btn-agregar-carrito"
              data-producto-id="">
              <span class="material-symbols-outlined text-xl icon-carrito">add_shopping_cart</span>
            </button>
            <button class="btn-wishlist" data-producto-id="" title="Agregar a favoritos">
              <span class="material-symbols-outlined icon-wishlist">favorite_border</span>
            </button>
          </div>
        </div>
        <p class="text-red-500 text-sm mt-2 sin-stock hidden">Sin stock</p>
      </div>
    </div>
  </template>

  <template id="template-categoria-filtro">
    <label class="flex items-center space-x-2 cursor-pointer">
      <input type="checkbox" value=""
        class="categoria-checkbox rounded text-color-principal focus:ring-color-principal">
      <span class="text-color-texto-oscuro hover:text-color-principal nombre-categoria"></span>
    </label>
  </template>

  <template id="template-no-productos">
    <div class="text-center py-8 col-span-full">
      <p class="text-color-texto-oscuro">No se encontraron productos con los filtros aplicados</p>
      <button
        class="mt-4 px-4 py-2 bg-color-principal text-white rounded hover:bg-color-principal-oscuro transition-colors btn-limpiar-filtros">
        Limpiar filtros
      </button>
    </div>
  </template>

  <template id="template-error-productos">
    <div class="text-center py-8 col-span-full">
      <p class="text-color-texto-oscuro mensaje-error"></p>
      <button
        class="mt-4 px-4 py-2 bg-color-principal text-white rounded hover:bg-color-principal-oscuro transition-colors btn-reintentar">
        Reintentar
      </button>
    </div>
  </template>

  <template id="template-paginacion-btn">
    <button class="paginacion-btn" onclick="">
    </button>
  </template>

  <template id="template-paginacion-ellipsis">
    <span class="paginacion-ellipsis">...</span>
  </template>
</body>

</html>